{
  "name": "PowerSave TCP Add-on",
  "version": "0.1.0",
  "slug": "powersave_tcp",
  "description": "HA Automation + TCP Forwarding add-on",
  "url": "https://github.com/LorenzoVasi/PowerSave-TCP-Add-on",  
  "startup": "services",
  "boot": "auto",
  "init": false,
  "arch": ["amd64","armv7","armhf","aarch64"], 
  "options": {
    "rules": [
      {
        "name": "minecraft_example",
        "listenport": 25565,
        "target_ip_proxy": "192.168.1.64",
        "target_port_proxy": 25565,
        "ha_url": "URL",
        "ha_token": "TOKEN",
        "ha_automation_id": "automation.test_powersavetcp",
        "wait_for_ping": true
      },
      {
        "name": "emby_example",
        "listenport": 8096,
        "target_ip_proxy": "192.168.1.64",
        "target_port_proxy": 8096,
        "ha_url": "URL",
        "ha_token": "TOKEN",
        "ha_automation_id": "automation.test_powersavetcp_emby",
        "wait_for_ping": true
      }
    ],
    "timeout_minutes": 20
  },
  "schema": {
    "rules": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {"type": "string"},
          "listenport": {"type": "integer"},
          "target_ip_proxy": {"type": "string"},
          "target_port_proxy": {"type": "integer"},
          "ha_url": {"type": "string"},
          "ha_token": {"type": "string"},
          "ha_automation_id": {"type": "string"},
          "wait_for_ping": {"type": "boolean"}
        },
        "required": ["name","listenport","target_ip_proxy","target_port_proxy","ha_url","ha_token","ha_automation_id","wait_for_ping"]
      }
    },
    "timeout_minutes": {"type": "integer"}
  },
  "host_network": true,
  "map": ["config:rw"]
}
